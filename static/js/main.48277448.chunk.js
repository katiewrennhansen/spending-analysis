(this["webpackJsonpspend-analyzer-frontend"]=this["webpackJsonpspend-analyzer-frontend"]||[]).push([[0],{118:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(39),i=n.n(r),l=(n(118),n(7)),o=n(12),d=function(e,t){var n=0;return e.forEach((function(e){e["Transaction Type"]===t&&(n+=Number(e.Amount))})),Number(n.toFixed(2))},j=function(e,t,n){var a=100,c=o.f("svg.".concat(t));if(c){c.selectAll("*").remove();var s=c.append("g").attr("transform","translate(".concat(a,", ").concat(a,")")),r=o.e().range([300,0]).domain([0,o.c(e,(function(e){return e.y}))]);s.append("g").call(o.b(r));var i=o.d().rangeRound([0,700]).domain(e.map((function(e){return e.x}))).padding(.2).align(.5).round(!0);e.forEach((function(e){e.scale=i(e.x)})),s.append("g").attr("transform","translate(0, ".concat(300,")")).call(o.a(i)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)");var l=s.selectAll("group").data(e).enter();if(l.append("rect").style("fill","#00d9ad").style("rx","5").attr("x",(function(e){return e.scale})).attr("y",(function(e){return r(e.y)})).attr("height",(function(e){return 300-r(e.y)})).attr("width",i.bandwidth()),n){var d=i.bandwidth();l.append("text").attr("x",(function(e){return e.scale})).attr("y",(function(e){return r(e.y)-5})).attr("dx",d/2).text((function(e){return"$".concat(h(e.y.toFixed(2)))})).attr("font-size","10px").attr("text-anchor","middle")}}},h=function(e){var t,n=parseFloat(e);n&&(t=n.toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","));return t||"0"},u=function(e){var t=e.breakdown;return Object(c.useEffect)((function(){if(t){var e=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push({x:n,y:Math.abs(e[n])})})),t}(t);j(e,"spending-breakdown",!1)}}),[t]),Object(a.jsx)("div",{className:"bar-chart",children:Object(a.jsx)("svg",{className:"spending-breakdown",width:900,height:500})})},b=function(e){var t=e.breakdown,n=e.summary;return Object(a.jsx)("div",{className:"dashboard-summary",children:Object(a.jsx)("div",{className:"summary",children:Object.keys(t).sort((function(e,n){return t[e]-t[n]})).map((function(e,c){return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{children:e}),Object(a.jsxs)("p",{className:"red-warning",children:["$",h(Math.abs(t[e]))]}),Object(a.jsxs)("p",{children:[(Math.abs(t[e])/n.totalIncome*100).toFixed(2),"% of total income"]})]},c)}))})})},m=function(e){var t=e.breakdown,n=e.dates,c=e.summary;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h2",{children:["Spending Breakdown",(null===n||void 0===n?void 0:n.length)?": ".concat(n[0]," - ").concat(n[n.length-1]):""]}),(null===n||void 0===n?void 0:n.length)?Object(a.jsxs)("div",{children:[Object(a.jsx)(u,{breakdown:t}),Object(a.jsx)(b,{breakdown:t,summary:c})]}):Object(a.jsx)("p",{className:"error-message",children:"There is no data available. Please upload a CSV to view spending breakdown."})]})},O=n(10),x=n(17),v=n(19),p=function(){return Object(a.jsx)("aside",{className:"sidebar",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{className:"sidebar-item",children:Object(a.jsxs)(O.b,{exact:!0,to:"/",children:[Object(a.jsx)(x.a,{icon:v.c})," Home"]})}),Object(a.jsx)("li",{className:"sidebar-item",children:Object(a.jsxs)(O.b,{to:"/breakdown",children:[Object(a.jsx)(x.a,{icon:v.b})," Spending Breakdown"]})}),Object(a.jsx)("li",{className:"sidebar-item",children:Object(a.jsxs)(O.b,{to:"/monthly",children:[Object(a.jsx)(x.a,{icon:v.a})," Monthly Data"]})}),Object(a.jsx)("li",{className:"sidebar-item",children:Object(a.jsxs)(O.b,{to:"/transactions",children:[Object(a.jsx)(x.a,{icon:v.d})," Transaction List"]})})]})})},f=function(){return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("div",{className:"custom-shape-divider",children:Object(a.jsxs)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",fill:"#00d9ad",children:[Object(a.jsx)("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".25",className:"shape-fill"}),Object(a.jsx)("path",{d:"M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z",opacity:".5",className:"shape-fill"}),Object(a.jsx)("path",{d:"M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z",className:"shape-fill"})]})}),Object(a.jsx)("h1",{children:"SpendAnalyzer"})]})},g=n(41),y=n.n(g),N=function(e){var t=e.onFileLoad,n=e.transactions,c=e.dates,s=e.summary,r=e.file,i=e.error;return Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)("h2",{children:"Welcome!"}),(null===n||void 0===n?void 0:n.length)?null:Object(a.jsx)("p",{className:"error-message",children:"Please select a CSV file to upload."}),i?Object(a.jsx)("p",{className:"error-message",children:"Something went wrong. Please try again."}):null,Object(a.jsxs)("div",{className:"csv-upload",children:[Object(a.jsx)(y.a,{parserOptions:{header:!0},onFileLoaded:function(e,n){return t(e,n)}}),Object(a.jsx)("p",{children:r?Object(a.jsxs)("span",{className:"success-message",children:["Currently reading: ",Object(a.jsx)("strong",{children:r})]}):Object(a.jsx)("span",{children:"No file selected"})})]}),(null===n||void 0===n?void 0:n.length)?Object(a.jsxs)("div",{className:"home-summary",children:[Object(a.jsx)("h2",{children:(null===c||void 0===c?void 0:c.length)?"".concat(c[0]," - ").concat(c[c.length-1]):""}),Object(a.jsxs)("div",{className:"spending-summary",children:[Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{children:"Total Income +"}),Object(a.jsxs)("p",{className:"green-success",children:["$",h(s.totalIncome)]})]}),Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{children:"Total Spent -"}),Object(a.jsxs)("p",{className:"red-warning",children:["$",h(s.totalSpent)]})]}),Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{children:"Total Saved"}),Object(a.jsxs)("p",{className:"green-success",children:["$",h(s.totalSaved)]})]}),Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h3",{children:"Percent Saved"}),Object(a.jsxs)("p",{className:s.percentSaved>50?"green-success":"red-warning",children:[s.percentSaved,"%"]})]})]})]}):null]})},w=function(e){var t=e.transaction;return Object(a.jsx)("tr",{children:Object.keys(t).map((function(e,n){return Object(a.jsx)("td",{className:"transaction-field",children:Object(a.jsx)("p",{children:t[e]})},n)}))})},S=function(e){var t=e.transactions,n=e.dates;return Object(a.jsxs)("div",{className:"transactions-list",children:[Object(a.jsxs)("h2",{children:["Transaction List",(null===n||void 0===n?void 0:n.length)?": ".concat(n[0]," - ").concat(n[n.length-1]):""]}),Object(a.jsxs)("p",{children:["Showing ",(null===t||void 0===t?void 0:t.length)?t.length:"0"," transaction",1!==t.length?"s":""]}),(null===t||void 0===t?void 0:t.length)?Object(a.jsxs)("table",{className:"transactions-table",children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:(null===t||void 0===t?void 0:t.length)>0&&Object.keys(t[0]).map((function(e,t){return Object(a.jsx)("th",{children:e},t)}))})}),Object(a.jsx)("tbody",{children:t.map((function(e,t){return Object(a.jsx)(w,{transaction:e},t)}))})]}):Object(a.jsx)("p",{className:"error-message",children:"There is no data available. Please upload a CSV to view your transactions list."})]})},k=function(e){var t=e.transactions,n=e.dates,s=e.breakdown,r=Object.keys(s),i=Object(c.useState)(r[0]),o=Object(l.a)(i,2),d=o[0],h=o[1];return Object(c.useEffect)((function(){if(t){var e=function(e,t){var n={},a=[];return e.forEach((function(e){if(e.Category===t){var a=e.Date.split("/"),c="".concat(a[0],"/").concat(a[2]);Object.keys(n).includes(c)?n[c]=Number(n[c])+Number(e.Amount):n[c]=Number(e.Amount)}})),Object.keys(n).forEach((function(e){a.push({x:e,y:Number(n[e].toFixed(2))})})),a.reverse()}(t,d);j(e,"monthly-breakdown",!0)}}),[t,d]),Object(a.jsxs)("div",{className:"monthly-chart",children:[Object(a.jsxs)("h2",{children:["Monthly Data",(null===n||void 0===n?void 0:n.length)?": ".concat(n[0]," - ").concat(n[n.length-2]):""]}),(null===t||void 0===t?void 0:t.length)?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"monthly-select",children:[Object(a.jsxs)("div",{className:"select-container",children:[Object(a.jsx)("select",{onChange:function(e){var t=e.target.value;h(t)},value:d,className:"monthly-dropdown",children:r.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))}),Object(a.jsx)("span",{className:"focus"})]}),Object(a.jsx)("h3",{children:d})]}),Object(a.jsx)("svg",{className:"monthly-breakdown",width:900,height:500})]}):Object(a.jsx)("p",{className:"error-message",children:"There is no data available. Please upload a CSV to view monthly spending summary."})]})},C=n(3),T=(n(127),[]),A=[],D=function(){var e=Object(c.useState)(T),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)({}),i=Object(l.a)(r,2),o=i[0],j=i[1],h=Object(c.useState)({}),u=Object(l.a)(h,2),b=u[0],x=u[1],v=Object(c.useState)(A),g=Object(l.a)(v,2),y=g[0],w=g[1],D=Object(c.useState)(""),E=Object(l.a)(D,2),F=E[0],M=E[1],V=Object(c.useState)(!1),I=Object(l.a)(V,2),P=I[0],L=I[1],B=["Transfer","Credit Card Payment"],$=function(e){var t=function(e){var t=[],n={};return e.map((function(e){return t.includes(e.Category)?null:t.push(e.Category)})),t.forEach((function(t){n[t]=0,e.filter((function(e){return e.Category===t})).forEach((function(e){"credit"===e["Transaction Type"]?n[t]+=Number(e.Amount):n[t]-=Number(e.Amount)}));var a=Number(n[t].toFixed(2));a<0?n[t]=a:delete n[t]})),n}(e);j(t);var n=function(e){var t=[];e.map((function(e){return t.push(new Date(e.Date))})),t.sort((function(e,t){return e-t}));var n=[];return t.forEach((function(e){var t=e.getFullYear(),a=(1+e.getMonth()).toString();a=a.length>1?a:"0"+a;var c=e.getDate().toString();c=c.length>1?c:"0"+c,n.push("".concat(a,"/").concat(c,"/").concat(t))})),n}(e);w(n);var a=function(e){var t={},n=d(e,"credit");t.totalIncome=n;var a=d(e,"debit");return t.totalSpent=a,t.percentSaved=Math.round((t.totalIncome-t.totalSpent)/t.totalIncome*100),t.totalSaved=n-a,t}(e);x(a)};return Object(a.jsx)(O.a,{children:Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(f,{}),Object(a.jsxs)("div",{className:"main-container",children:[Object(a.jsx)(p,{}),Object(a.jsx)("main",{className:"dashboard-container",children:Object(a.jsxs)(C.c,{children:[Object(a.jsx)(C.a,{path:"/breakdown",children:Object(a.jsx)(m,{breakdown:o,dates:y,summary:b})}),Object(a.jsx)(C.a,{path:"/monthly",children:Object(a.jsx)(k,{transactions:n,dates:y,breakdown:o})}),Object(a.jsx)(C.a,{path:"/transactions",children:Object(a.jsx)(S,{transactions:n,dates:y})}),Object(a.jsx)(C.a,{path:"/",children:Object(a.jsx)(N,{onFileLoad:function(e,t){if(e){M(t.name);var n=function(e,t){var n=[];return e.forEach((function(e){Object.keys(e).length>1&&!t.includes(e.Category)&&n.push({Date:e.Date?e.Date:"",Description:e.Description?e.Description:"",Amount:e.Amount?e.Amount:"","Transaction Type":e["Transaction Type"],Category:e.Category?e.Category:""})})),n}(e,B);s(n),$(n)}else L(!0)},transactions:n,dates:y,summary:b,file:F,error:P})})]})})]})]})})};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(D,{})}),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.48277448.chunk.js.map